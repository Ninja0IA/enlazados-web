<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Inicio de Sesión - Admin</title>
    <style>
        body { display: flex; justify-content: center; align-items: center; height: 100vh; font-family: sans-serif; background-color: #f0f2f5; margin: 0; }
        .login-box { text-align: center; padding: 2.5rem; border-radius: 8px; background: white; box-shadow: 0 4px 12px rgba(0,0,0,0.1); }
        h2 { margin-top: 0; }
        button { font-size: 1.1rem; padding: 0.8rem 1.5rem; cursor: pointer; background-color: #1D4289; color: white; border: none; border-radius: 5px; transition: background-color 0.2s; }
        button:hover { background-color: #69B3E7; }
        #status { margin-top: 1rem; font-weight: bold; }
    </style>
</head>
<body>
    <div class="login-box">
        <h2>Acceso al Panel de Administrador</h2>
        <p>Inicia sesión con tu cuenta de Google designada.</p>
        <button id="btn-login">Iniciar Sesión con Google</button>
        <p id="status"></p>
    </div>

    <script type="module">
        // ==================== INICIALIZACIÓN DE FIREBASE ====================
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
        import { getAuth, GoogleAuthProvider, signInWithPopup } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";

        // --- Configuración del proyecto "enlazados-final" ---
        const firebaseConfig = {
          apiKey: "AIzaSyBPMTXm9oaNOvsXC4BYtVnoGj3VnCR02Yc",
          authDomain: "enlazados-final.firebaseapp.com",
          projectId: "enlazados-final",
          storageBucket: "enlazados-final.firebasestorage.app",
          messagingSenderId: "1036116744539",
          appId: "1:1036116744539:web:65f6696a4dca60e722a27e"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const provider = new GoogleAuthProvider();

        const btnLogin = document.getElementById('btn-login');
        const statusEl = document.getElementById('status');

        // ==================== LÓGICA DE INICIO DE SESIÓN ====================
        btnLogin.addEventListener('click', () => {
            signInWithPopup(auth, provider)
                .then((result) => {
                    statusEl.textContent = '¡Éxito! Redirigiendo al panel...';
                    statusEl.style.color = 'green';
                    // Redirección automática a admin.html después de 1.5 segundos
                    setTimeout(() => {
                        window.location.href = 'admin.html';
                    }, 1500);
                }).catch((error) => {
                    statusEl.textContent = 'Error al iniciar sesión: ' + error.message;
                    statusEl.style.color = 'red';
                });
        });
    </script>
</body>
</html>